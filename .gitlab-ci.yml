image: ghcr.io/cirruslabs/flutter:latest

stages:
 - test

test_job:
    stage: test
    script:
    - echo "Rodando testes na vers√£o $FLUTTER_VERSION"
    - flutter test

    rules:
    - if: '$CI_PIPELINE_SOURCE == "merge_request_event" && $CI_MERGE_REQUEST_TARGET_BRANCH_NAME =~ /^develop$/'
      when: always
    - if: '$CI_PIPELINE_SOURCE == "push" && $CI_COMMIT_BRANCH =~ /^develop$/'
      when: always
    - when: never